var splitView=function(){var e={},t=0,n=function(){return window.self===window.top?!0:void 0},i=function(e){var t=document.createElement("iframe");return t.src=document.querySelector(e).getAttribute("data-splitbar-url"),document.querySelector(e).appendChild(t),t},r=function(e){iframe=document.querySelector(e),iframe.onload=function(){t++,2==t&&l()}},l=function(){document.querySelector(".splitbar__panel iframe").blur(),document.querySelector(".splitbar__site iframe").blur(),document.querySelector(".splitbar__wrap").focus()},u=function(){var e=document.querySelector(".splitbar__panel iframe").contentWindow.document.querySelector(".message-content");e?(y(),o()):setTimeout(u,100)},o=function(){var e=document.querySelector(".splitbar__panel iframe").contentWindow.document.querySelector(".message-content");e?setTimeout(o,100):setTimeout(u,100)},a=function(){document.addEventListener("keydown",function(e){e.altKey&&e.keyCode==s()&&(document.querySelector(".splitbar__wrap").classList.contains("splitbar--hide")?b():d())})},s=function(){return string="{{shortcut}}",string.toUpperCase().charCodeAt(0)},_=function(e){document.querySelector(e).classList.add("splitbar--hide")},c=function(e){document.querySelector(e).classList.remove("splitbar--hide")},m=function(e){document.querySelector(e).classList.add("splitbar--full")},p=function(e){document.querySelector(e).classList.remove("splitbar--full")},b=function(){c(".splitbar__wrap"),c(".splitbar__message"),f(!0),S(!0)},d=function(){_(".splitbar__wrap"),_(".splitbar__message"),f(!1),localStorage.setItem("splitbar.active",!1),S(!1)},f=function(e){e===!0?document.querySelector("body").classList.add("splitbar--crop"):document.querySelector("body").classList.remove("splitbar--crop")},y=function(){document.querySelector(".splitbar__site iframe").contentWindow.location.reload()},S=function(e){localStorage.setItem("splitbar.active",e)},q=function(){document.querySelector(".splitbar__menu__item--refresh").onclick=function(){y()}},v=function(){document.querySelector(".splitbar__menu--site .splitbar__menu__item--full").onclick=function(){_(".splitbar__menu--panel"),_(".splitbar__panel"),_(".splitbar__menu--site .splitbar__menu__item--full"),c(".splitbar__menu--site .splitbar__menu__item--columns"),m(".splitbar__site")}},w=function(){document.querySelector(".splitbar__menu--site .splitbar__menu__item--columns").onclick=function(){c(".splitbar__menu--panel"),c(".splitbar__panel"),c(".splitbar__menu--site .splitbar__menu__item--full"),_(".splitbar__menu--site .splitbar__menu__item--columns"),p(".splitbar__site")}},g=function(){document.querySelector(".splitbar__menu--panel .splitbar__menu__item--full").onclick=function(){_(".splitbar__menu--site"),_(".splitbar__site"),_(".splitbar__menu--panel .splitbar__menu__item--full"),c(".splitbar__menu--panel .splitbar__menu__item--columns"),m(".splitbar__panel")}},L=function(){document.querySelector(".splitbar__menu--panel .splitbar__menu__item--columns").onclick=function(){c(".splitbar__menu--site"),c(".splitbar__site"),c(".splitbar__menu--panel .splitbar__menu__item--full"),_(".splitbar__menu--panel .splitbar__menu__item--columns"),p(".splitbar__panel")}},k=function(){document.querySelector(".splitbar__menu--close .splitbar__menu__item--close").onclick=function(){d()}},h=function(){"true"===localStorage.getItem("splitbar.active")&&b()};return e.init=function(){document.addEventListener("DOMContentLoaded",function(){n()===!0&&(i(".splitbar__panel"),i(".splitbar__site"),r(".splitbar__panel iframe"),r(".splitbar__site iframe"),h(),a(),k(),u(),v(),w(),q(),g(),L())})},e}();splitView.init();
