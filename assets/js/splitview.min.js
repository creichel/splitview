var splitview=function(){var e,t,i,n,l,o,u,s,c,_={},r=0,m={},p=function(){a(),v(),f(),d(),y(),S(),q(),L(),w()},a=function(){e=N("active",!1)},v=function(){t=N("view","")},w=function(){c=N("orientation","columns")},f=function(){i=J("page_uri","")},d=function(){n=J("admin_uri","/panel/pages/")},y=function(){l=J("site_url","")},S=function(){o=l+n+i+"/edit"},q=function(){u=J("memory",!0)},L=function(){s=J("time","fast"),s="slow"===s?1e3:100},h=function(){return window.self===window.top?!0:void 0},k=function(e,t){var i=document.createElement("iframe");return i.src=t,document.querySelector(e).appendChild(i),i},g=function(e){iframe=document.querySelector(e),iframe.onload=function(){r++,2==r&&C()}},C=function(){A(".splitview__panel iframe"),A(".splitview__site iframe"),W(".splitview__wrap")},E=function(){var e=document.querySelector(".splitview__panel iframe").contentWindow.document.querySelector(".message-content");e?(M(),F()):setTimeout(E,s)},F=function(){var e=document.querySelector(".splitview__panel iframe").contentWindow.document.querySelector(".message-content");e?setTimeout(F,s):setTimeout(E,s)},b=function(){document.addEventListener("keydown",function(e){e.altKey&&e.keyCode==O()&&(document.querySelector(".splitview__wrap").classList.contains("splitview--hide")?X():Y())})},O=function(){if(m.hasOwnProperty("shortcut"))var e=m.shortcut;else var e="s";return e.toUpperCase().charCodeAt(0)},W=function(e){document.querySelector(e).focus()},A=function(e){document.querySelector(e).blur()},I=function(e){document.querySelector(e).classList.add("splitview--hide")},P=function(e){document.querySelector(e).classList.remove("splitview--hide")},T=function(e){document.querySelector(e).classList.add("splitview--full")},D=function(e){document.querySelector(e).classList.remove("splitview--full")},K=function(e,t){t===!0?document.querySelector(e).classList.add("splitview--crop"):document.querySelector(e).classList.remove("splitview--crop")},M=function(){document.querySelector(".splitview__site iframe").contentWindow.location.reload()},U=function(e){localStorage.setItem("splitview.active",e)},j=function(){document.querySelector(".splitview__menu__item--refresh").onclick=function(){M()},document.querySelector(".splitview__menu--site .splitview__menu__item--full").onclick=function(){_.siteFullscreen()},document.querySelector(".splitview__menu--site .splitview__menu__item--columns").onclick=function(){_.siteColumns()},document.querySelector(".splitview__menu--site .splitview__menu__item--link").addEventListener("mouseover",function(){x(".splitview__menu--site .splitview__menu__item--link a",".splitview__site iframe")}),document.querySelector(".splitview__menu--panel .splitview__menu__item--full").onclick=function(){_.panelFullscreen()},document.querySelector(".splitview__menu--panel .splitview__menu__item--columns").onclick=function(){_.panelColumns()},document.querySelector(".splitview__menu--panel .splitview__menu__item--link").addEventListener("mouseover",function(){x(".splitview__menu--panel .splitview__menu__item--link a",".splitview__panel iframe")}),document.querySelector(".splitview__menu--site .splitview__menu__item--link a").addEventListener("click",function(e){e.preventDefault(),z(this)}),document.querySelector(".splitview__menu__item--orientation").onclick=function(){"rows"==c?(document.querySelector(".splitview__columns").classList.remove("splitview--rows"),document.querySelector(".splitview__menu__item--orientation i").classList.remove("fa-rotate-90"),c="columns"):(document.querySelector(".splitview__columns").classList.add("splitview--rows"),document.querySelector(".splitview__menu__item--orientation i").classList.add("fa-rotate-90"),c="rows"),G("orientation",c)},document.querySelector(".splitview__menu--close .splitview__menu__item--close").onclick=function(){Y()}},x=function(e,t){var i=document.querySelector(t).contentWindow.location.href;document.querySelector(e).setAttribute("href",i)},z=function(e){Y(),window.location.href=e.getAttribute("href")},B=function(e){return localStorage.getItem("splitview."+e)},G=function(e,t){return localStorage.setItem("splitview."+e,t)},H=function(){Q(),R(),V()},J=function(e,t){var i="";return i=m.hasOwnProperty(e)?m[e]:t},N=function(e,t){var i="";return i=m.hasOwnProperty(e)?m[e]:null!==B(e)?B(e):t},Q=function(){"true"===e&&X()},R=function(){"panel"===t?_.panelFullscreen():"site"===t&&_.siteFullscreen()},V=function(){"rows"===c?(document.querySelector(".splitview__columns").classList.add("splitview--rows"),document.querySelector(".splitview__menu__item--orientation i").classList.add("fa-rotate-90")):(document.querySelector(".splitview__columns").classList.remove("splitview--rows"),document.querySelector(".splitview__menu__item--orientation i").classList.remove("fa-rotate-90"))},X=function(){P(".splitview__wrap"),P(".splitview__message"),K("body",!0),U(!0)},Y=function(){I(".splitview__wrap"),I(".splitview__message"),K("body",!1),U(!1)};return _.panelFullscreen=function(){I(".splitview__menu--site"),I(".splitview__site"),I(".splitview__menu--panel .splitview__menu__item--full"),P(".splitview__menu--panel .splitview__menu__item--columns"),T(".splitview__panel"),G("view","panel")},_.siteFullscreen=function(){I(".splitview__menu--panel"),I(".splitview__panel"),I(".splitview__menu--site .splitview__menu__item--full"),P(".splitview__menu--site .splitview__menu__item--columns"),T(".splitview__site"),G("view","site")},_.panelColumns=function(){P(".splitview__menu--site"),P(".splitview__site"),P(".splitview__menu--panel .splitview__menu__item--full"),I(".splitview__menu--panel .splitview__menu__item--columns"),D(".splitview__panel"),G("view","")},_.siteColumns=function(){P(".splitview__menu--panel"),P(".splitview__panel"),P(".splitview__menu--site .splitview__menu__item--full"),I(".splitview__menu--site .splitview__menu__item--columns"),D(".splitview__site"),G("view","")},_.init=function(e){document.addEventListener("DOMContentLoaded",function(){h()===!0&&(e&&(m=e),p(),console.log(m),k(".splitview__panel",o),k(".splitview__site",N("site_url","")+"/"+N("page_uri","")),g(".splitview__panel iframe"),g(".splitview__site iframe"),u===!0&&H(),b(),j(),E())})},_}();
